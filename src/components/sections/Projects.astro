---
import GitHub from "@/icons/GitHub.astro"
import Webflow from "@/icons/webflow.astro"
import Section from "../Section.astro"


import { projects as projects_es } from "@cv"
import { projects as projects_en } from "@cv_en"

const language = "es";

const projects = language === "es" ? projects_es : projects_en;

---

<Section title="Proyectos" id="projects">
  <ul>
    {
      projects.map(
        ({ url, description, highlights, name, isActive, github, webflow }) => {
          return (
            <li>
              <article>
                <header>
                  <h3>
                    <a href={url} target="_blank" title={`Ver el proyecto ${name}`}>
                      {name}
                    </a>
                    {isActive && <span>•</span>}
                    {github && (
                      <a
                        class="github-code-link"
                        href={github}
                        target="_blank"
                        title={`Ver código fuente del proyecto ${name}`}
                      >
                        <GitHub />
                      </a>
                    )}
                    {webflow && (
                      <a
                        class="webflow-code-link"
                        href={webflow}
                        target="_blank"
                        title={`Ver el proyecto ${name} en Webflow`}
                      >
                        <Webflow />
                      </a>
                    )}
                  </h3>
                  <p>{description}</p>
                </header>
                <footer>
                  {highlights.map((highlight) => {
                    return <span>{highlight}</span>
                  })}
                </footer>
              </article>
            </li>
          )
        }
      )
    }
  </ul>
</Section>